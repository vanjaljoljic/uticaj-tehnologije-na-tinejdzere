jQuery(function(o){function n(e){var i=o(e),r=o("<div></div>").html('<span class="current">'+i.find(":selected").html()+"</span>"+siteorigin_corp_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(i),t=o("<div/>").addClass("ordering-dropdown-container").appendTo(r),n=(e=o("<ul></ul>").addClass("ordering-dropdown").appendTo(t),0);i.find("option").each(function(){var i=o(this);e.append(o("<li></li>").html(i.html()).data("val",i.attr("value"))),r.find(".current").html(i.html()),n=Math.max(r.find(".current").width(),n)}),r.find(".current").html(i.find(":selected").html()),r.find(".current").width(n),i.hide()}o(document).on("click",".ordering-selector-wrapper .ordering-dropdown li",function(){var i=o(this).parents(".corp-variations-wrapper, .woocommerce-ordering").find("select");i.val(o(this).data("val")).trigger("change"),i.hasClass("woocommerce-ordering")?i.closest("form").trigger("submit"):($variations=o(this).parents(".variations"),$variations.length?$variations.find(".corp-variations-wrapper").each(function(){var r=o(this).find(".ordering-dropdown");r.empty(),o(this).find("option").each(function(i){var e=o(this);r.append(o("<li></li>").html(e.html()).data("val",e.attr("value")))}),o(this).find(".current").text(o(this).find("select").find(":selected").text())}):o(this).parents(".ordering-selector-wrapper").find(".current").text(o(this).text()))}),o(".woocommerce-ordering select, .corp-variations-wrapper select").each(function(){n(this)}),o(document).on("click",".ordering-selector-wrapper",function(){o(".open-dropdown").removeClass("open-dropdown"),o(this).toggleClass("open-dropdown")}),o(window).on("click",function(i){o(i.target).closest(".ordering-selector-wrapper.open-dropdown").length||o(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),o(document).on("click",".woocommerce .product .variations .reset_variations",function(){o(this).parents(".variations_form").find(".corp-variations-wrapper").each(function(){var i=o(this);i.find(".current").text(i.find(".ordering-dropdown li").first().text()),i.find("select").find(":selected").prop("selected",!1),i.find("select").trigger("change")})}),o(".product-quick-view-button").on("click",function(i){i.preventDefault();var r="#quick-view-container",t="#product-quick-view",e=o(this).attr("data-product-id");o.post(siteorigin_corp_data.ajaxurl,{action:"siteorigin_corp_product_quick_view",product_id:e},function(i){o(document).find(r).find(t).html(i),o(document).find("#product-quick-view .variations_form").wc_variation_form(),o(document).find("#product-quick-view .variations_form").trigger("check_variations"),o("#quick-view-container .corp-variations-wrapper select").each(function(){n(this)})}),o(document).ajaxComplete(function(){o.isFunction(o.fn.flexslider)&&(o(".product-images-slider").flexslider({animation:"slide",customDirectionNav:o(this).find(".flex-direction-nav a"),start:function(){o(".flexslider .slides img").show()}}),o("#product-quick-view .variations_form").on("found_variation.wc-variation-form",function(i,e){if(e&&e.image&&e.image.full_src){var r=o("#product-quick-view .product-gallery-image").find('img[src="'+e.image.full_src+'"]');0<r.length?o(".product-images-slider").flexslider(r.parent().index(".product-images-slider  .slide")-1):o(".product-images-slider").flexslider(0)}}),o("#product-quick-view .variations_form").on("reset_image",function(i,e){o(".product-images-slider").flexslider(0)}))}),o(document).find(r).is(":hidden")&&o(document).find(r).find(t).empty(),o(document).find(r).fadeIn(300),o("body").css("margin-right",window.innerWidth-o("body").width()+"px"),o("body").css("overflow","hidden"),o(window).on("mouseup",function(i){var e=o(t);(!e.is(i.target)&&0===e.has(i.target).length||o(".quickview-close-icon").is(i.target))&&(o(r).fadeOut(300),o("body").css("overflow",""),o("body").css("margin-right",""))}),o(document).on("keyup",function(i){o(t);27==i.keyCode&&(o(r).fadeOut(300),o("body").css("overflow",""),o("body").css("margin-right",""))})})});