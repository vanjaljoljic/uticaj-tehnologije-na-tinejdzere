!function(m){m.fn.siteoriginCorpIsVisible=function(){var o=this[0].getBoundingClientRect();return 0<=o.bottom&&0<=o.right&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)};m(document).on("mousemove",function(o){({x:o.pageX,y:o.pageY})}),void 0!==m.fn.fitVids&&m(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),m(document).ready(function(){m(".flexslider").each(function(){m(this).flexslider({animation:"slide",customDirectionNav:m(this).find(".flex-direction-nav a"),start:function(){m(".flexslider .slides img").show()}}),m(window).one("panelsStretchRows",function(){m("body:not(.siteorigin-panels-css-container) .siteorigin-panels-stretch .flexslider").flexslider().resize()})})}),m("body.no-js").removeClass("no-js"),m("body").hasClass("css3-animations")&&(m(".menu-item").children("a").on("focusin",function(){m(this).parents("ul, li").addClass("focus")}),m(".menu-item").children("a").on("click",function(){m(this).parents("ul, li").removeClass("focus")}),m(".menu-item").children("a").on("focusout",function(){m(this).parents("ul, li").removeClass("focus")})),m(document).ready(function(o){window.location.hash||(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o(window).on("click",function(){o("#site-navigation ul li").hasClass("current")?(o("#site-navigation li").removeClass("current-menu-item"),o("#site-navigation li.current-menu-ancestor").removeClass("current-menu-ancestor current-menu-parent")):0==o(document).scrollTop()&&(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o('#site-navigation a[href="'+window.location.href+'"]').parents("li.menu-item-has-children").addClass("current-menu-ancestor current-menu-parent"))}))});function r(){var o,t=m("#wpadminbar").outerHeight(),e=m("body").hasClass("admin-bar"),i=m("header").hasClass("sticky"),n=m(".site-header");if(o=i&&e&&600<m(window).width()?t+m("header").outerHeight()-1:i?m("header").outerHeight()-1:0,n.data("scale-logo")&&!n.hasClass("stuck")){var s=parseInt(n.css("padding-bottom"));o+=s-s*siteoriginCorp.logoScale*2}return o}m.fn.siteoriginCorpSmoothScroll=function(){m("body").hasClass("disable-smooth-scroll")||m(this).on("click",function(o){var t=this.hash.substring(1);if(0<m(".panel-grid [id*="+t+"]").length?(m("#site-navigation .current").removeClass("current"),m(this).parent("li").addClass("current")):m("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=m(this.hash);if((e=e.length?e:m("[name="+this.hash.slice(1)+"]")).length)return m("html, body").stop().animate({scrollTop:e.offset().top-r()},{duration:1200,start:function(){m("html, body").on("wheel touchmove",function(){m("html, body").stop().off("wheel touchmove")})},complete:function(){m("html, body").finish().off("wheel touchmove")}}),!1}})},m(window).on("load",function(){if(m('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .woocommerce-review-link[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll(),location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var o=m(window.location.hash);o.length&&setTimeout(function(){m("html, body").animate({scrollTop:o.offset().top-r()},0,function(){m("#masthead").hasClass("sticky-menu")&&smSetup()})},100)}}),m(window).on("scroll",function(){var s=m(window).scrollTop(),a="no";m(".panel-row-style").each(function(){var o="#"+m(this).attr("id"),t=m(this).offset().top-1,e=m(this).outerHeight(),i=t-r(),n=t+e-r();if(i<=s&&s<=n)return a="yes",m("#site-navigation .current").removeClass("current"),m('#site-navigation a[href$="'+o+'"]').parent("li").addClass("current"),!1;"no"===a&&m("#site-navigation .current").removeClass("current")})});var i=!1;m("#mobile-menu-button").on("click",function(o){o.preventDefault();var t=m(this);if(t.toggleClass("to-close"),!1===i){(i=m("<div></div>").append(m(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide()).find("#primary-menu").show().css("opacity",1),i.find(".menu-item-has-children > a").addClass("has-dropdown"),i.find(".page_item_has_children > a").addClass("has-dropdown"),i.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-angle-down" aria-hidden="true"></i></button>'),i.find(".dropdown-toggle").on("click",function(o){o.preventDefault(),m(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),i.find(".has-dropdown").on("click",function(o){void 0!==m(this).attr("href")&&"#"!=m(this).attr("href")||(o.preventDefault(),m(this).siblings(".dropdown-toggle").trigger("click"))});function e(){if(m("#masthead").hasClass("sticky")){var o="fixed"===m("#wpadminbar").css("position")?m("#wpadminbar").outerHeight():0,t=m("#masthead").innerHeight(),e=m(window).height()-t-o;m("#mobile-navigation").css("max-height",e)}}e(),m(window).on("resize",e),m("#mobile-navigation").on("scroll",e)}i.slideToggle("fast"),m("#mobile-navigation a").on("click",function(o){(!m(this).hasClass("has-dropdown")||void 0!==m(this).attr("href")&&"#"!==m(this).attr("href"))&&i.is(" :visible")&&i.slideUp("fast"),t.removeClass("to-close")}),m('#mobile-navigation a[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),m("#search-button").on("click",function(o){o.preventDefault();var t=m(this);t.toggleClass("close-search"),m("input[type='search']").each(function(){m(this).attr("size",m(this).attr("placeholder").length)});function e(){var o=m(window).width(),t=m(window).height();m("#fullscreen-search").css({height:t+"px",width:o+"px"})}e(),m(window).on("resize",e),t.hasClass("close-search")?(m("body").css("margin-right",window.innerWidth-m("body").width()+"px"),m("body").css("overflow","hidden")):(m("body").css("overflow",""),m("body").css("margin-right","")),m("#fullscreen-search").slideToggle("fast"),m("#fullscreen-search input").trigger("focus")}),m("#fullscreen-search-form").on("submit",function(){m(this).find("button svg").hide(),m(this).find("button svg:last-child").show()}),m("#fullscreen-search #search-close-button").on("click",function(o){o.preventDefault(),m("#search-button.close-search").trigger("click")}),m(document).on("keyup",function(o){27===o.keyCode&&m("#search-button.close-search").trigger("click")});function o(){var o=window.pageYOffset||document.documentElement.scrollTop;(m("#masthead").length?m("#masthead").outerHeight():m(window).outerHeight()/2)<o?m("#scroll-to-top").hasClass("show")||m("#scroll-to-top").css("pointer-events","auto").addClass("show"):m("#scroll-to-top").hasClass("show")&&m("#scroll-to-top").css("pointer-events","none").removeClass("show")}o(),m(window).on("scroll",o),m("#scroll-to-top").on("click",function(){m("html, body").stop().animate({scrollTop:0})}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(m("body").css("cursor","pointer"),m("body").addClass("ios")),m(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){m(this).on("click touchend",function(o){var t=m(this);o.stopPropagation(),"click"!=o.type&&(t.parent().hasClass("hover")||(m(".menu-item.hover").removeClass("hover"),t.parents(".menu-item").addClass("hover"),o.preventDefault()),m(document).one("click",function(){t.parent().removeClass("hover")}))})})),m("#portfolio-loop").length&&($infinite_scroll=0,m(document.body).on("post-load",function(){var o=m("#portfolio-loop");$infinite_scroll+=1;o=m("#projects-container");var t=m("#infinite-view-"+$infinite_scroll).find(".jetpack-portfolio.post");t.hide(),o.append(t).isotope("appended",t)})),m(window).on("load",function(){siteoriginCorp.logoScale=parseFloat(siteoriginCorp.logoScale),m(".blog-layout-masonry").length&&m(".blog-layout-masonry").masonry({itemSelector:".hentry",columnWidth:".hentry"});var t=m("#projects-container");m(".portfolio-filter-terms").length&&t.isotope({itemSelector:".post",filter:"*",layoutMode:"fitRows",resizable:!0}),m(".portfolio-filter-terms button").on("click",function(){var o=m(this).attr("data-filter");return t.isotope({filter:o}),m(".portfolio-filter-terms button").removeClass("active"),m(this).addClass("active"),!1});var i=m("#masthead"),n={top:parseInt(i.css("padding-top")),bottom:parseInt(i.css("padding-bottom"))};if(i.data("scale-logo")){var s=i.find(".site-branding img"),o=s.width(),e=s.height(),a=o*siteoriginCorp.logoScale,r=e*siteoriginCorp.logoScale;m(".site-branding img").wrap("<div class='custom-logo-wrapper'></div>");function l(){var o=i.find(".site-branding > *"),t=window.pageYOffset||document.documentElement.scrollTop;if(t>siteoriginCorp.stickyOffset?i.css({"padding-top":n.top*siteoriginCorp.logoScale,"padding-bottom":n.bottom*siteoriginCorp.logoScale}).addClass("stuck"):i.css({"padding-top":n.top,"padding-bottom":n.bottom}).removeClass("stuck"),s.length)if(0<t){var e=siteoriginCorp.logoScale+Math.max(0,48-t)/48*(1-siteoriginCorp.logoScale);s.height()==r&&s.width()==a&&e==siteoriginCorp.logoScale||m(".site-branding img").css({width:100*e+"%"})}else m(".site-branding img").css({width:""});else 0<t?o.css("transform","scale("+siteoriginCorp.logoScale+")"):o.css("transform","scale(1)")}l(),m(window).on("scroll resize",l)}if(m("#masthead").hasClass("sticky")){i=m("#masthead");function c(){m(window).scrollTop()>siteoriginCorp.stickyOffset?m(i).addClass("stuck"):m(i).removeClass("stuck")}var d=m('<div class="masthead-sentinel"></div>').insertAfter(i),h=m("#topbar"),u=m('#topbar .woocommerce-store-notice[style*="display: none"]');c(),m(window).on("scroll",c);function p(){m("body").hasClass("mobile-header-ns")&&m(window).width()<siteoriginCorp.collapse||(!1!==d&&d.css("height",i.outerHeight()),m("body").hasClass("no-topbar")||h.siteoriginCorpIsVisible()||m("body").addClass("topbar-out"),h.length&&m("body").hasClass("topbar-out")&&h.siteoriginCorpIsVisible()&&m("body").removeClass("topbar-out"),m("body").hasClass("no-topbar")&&!m(window).scrollTop()&&m("body").addClass("topbar-out"),m("body").hasClass("no-topbar")||!m("body").hasClass("no-topbar")&&m("body").hasClass("topbar-out")||u.length?(window.pageYOffset||document.documentElement.scrollTop)>siteoriginCorp.stickyOffset?i.css("position","fixed"):i.css("position","absolute"):m("body").hasClass("no-topbar")||m("body").hasClass("topbar-out")||i.css("position","absolute"))}p(),m(window).on("resize scroll",p)}})}(jQuery);